@mixin dots($count) {
	$text-shadow: ();
	@for $i from 0 through $count {
		$text-shadow: $text-shadow,
			(-0.5+ (random()) * 3) + em (-0.5+ (random()) * 3) + em 7px hsla(random() * 360, 100%, 50%, 0.9);
	}
	text-shadow: $text-shadow;
}

.anime-bg-box {
    position: relative;

    &__bg {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        z-index: 1;
        background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
        background-size: 400% 400%;
        animation: gradient 15s ease infinite;
        border-radius: 30px;


        &:before {
            position: absolute;
            content: "";
            display: block;
            z-index: 4;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            box-shadow: -30px -30px #fafafd;
            border-radius: 30px;
        }
    
        &:after {
            position: absolute;
            content: "";
            display: block;
            z-index: 5;
            top: 0;
            left: 0;
            width: 100%;
            height: 120%;
            box-shadow: 30px -30px #fafafd;
            border-radius: 30px;
        }
    
        & > span {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 6;
    
            &:before {
                position: absolute;
                content: "";
                display: block;
                z-index: 4;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 100%;
                box-shadow: -30px 30px #fafafd;
                border-radius: 30px;
            }
    
            &:after {
                position: absolute;
                content: "";
                display: block;
                z-index: 5;
                bottom: 0;
                left: 0;
                width: 100%;
                height: 120%;
                box-shadow: 30px 30px #fafafd;
                border-radius: 30px;
            }
        }
    }
 
    &__bg-l {
        position: absolute;
        top: 0;
        left: 0;
        z-index: 3;
        width: 100%;
        height: 100%;
        border-radius: 30px;
        overflow: hidden;
        font-size: 62px;

        &:before, &:after{ 
            position: absolute;
            top: 50%;
            left: 50%;
            width: 4em;
            height: 4em;
            content: "‚òÅ";
            mix-blend-mode: screen;
            animation: 44s -27s move infinite ease-in-out alternate; 
            color: transparent;
        } 

        &:before { 
            @include dots(7);
            animation-duration: 42s;
            animation-delay: -23s;
        }
        &:after {
            @include dots(7);
            animation-duration: 41s;
            animation-delay: -19s;
        }
    }

    &__body {
        position: relative;
        z-index: 2;
        padding: 76px 70px;

        @media (max-width: 1399.98px) {
            padding: 50px 32.5px;
        }

        @media (max-width: $md3+px) {
            padding: 30px 15px;
        }
    }
}

@keyframes gradient {
	0% {
		background-position: 0% 50%;
	}
	50% {
		background-position: 100% 50%;
	}
	100% {
		background-position: 0% 50%;
	}
}

@keyframes move {
	from {
		transform: rotate(0deg) scale(12) translateX(-20px);
	}
	to {
		transform: rotate(360deg) scale(18) translateX(20px);
	}
}
